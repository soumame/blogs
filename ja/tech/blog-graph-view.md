---
title: ブログにグラフビューを実装してみた
emoji: 🗺️
description: Obsidianのグラフビューが気に入ったので自分のウェブサイトにも
tags:
  - wip
  - coding
  - web
published_at: 2025-10-29
---

## グラフビューってなに
[![Image from Gyazo](https://i.gyazo.com/91a13fc1a4272f4d87b3122fcb26adc7.png)](https://gyazo.com/91a13fc1a4272f4d87b3122fcb26adc7)
グラフビューでは、このように、相関図のようなグラフでアイテム間の関係性を表すことができる。


ブログを書くのに使っている[[obsidian|Obsidian]]というエディターに同様の機能が搭載されており、それを自作した感じ。

[![Image from Gyazo](https://i.gyazo.com/2bc46e271420fd8c8617f2e2bf6160d4.png)](https://gyazo.com/2bc46e271420fd8c8617f2e2bf6160d4)
Obsidianではどうやら自前で実装しているようだけど、ソースコードが公開されていないので、仕方なく自前で実装する。

記事数もそこまで多くないし、パフォーマンスについてはそこまで考えなくて良かったので、d3.jsというライブラリを内包した、React-Force-Graphというパッケージを使って、力のシミュレーションとかを微調整している。

https://github.com/vasturiano/react-force-graph

類似のもので、vis.jsというものもあるが、d3.jsの方がより複雑な操作ができるのでそっちを選択（なお、導入しやすさで言ったらvis.js）。モバイルでの閲覧が多いようなので、ホバー操作などをせずにすべての機能が利用できるようにした。

パッケージ名の通りグラフビューはReactで動作している。このサイトはほとんどがStaticで、Astroを使っているので、グラフビューのコンポーネント以外は全て事前にビルドしている。

ビルド時に、全ての記事と、その関係性を記述したJSONを作成し、ページ読み込み時にそれをロードしている。

これ、ページ数が増えまくったら結構厳しい気もするので、しばらくこれで使ってみて、ダメそうだったら別の方法を考えようと思う。

